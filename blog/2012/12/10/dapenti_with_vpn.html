<!DOCTYPE html>
<html lang='zh'>
        <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="//cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <title>dapenti with vpn</title>
</head>

<body>
        <div id="header">
    <nav class="navbar navbar-default" role="navigation">
                <div class="container-fluid">
                        <div class="navbar-header">
                                <a class="navbar-brand" href="/">CLOUD</a>
                        </div>
                        <div class="collapse navbar-collapse" id="example-navbar-collapse">
                                <ul class="nav navbar-nav">
                                        <li><a href="/tweet"><i class="icon-retweet icon-white"></i>Tweets</a></li>
                                        <li><a href="/archive.html"><i class="icon-book icon-white"></i>Archives</a></li>
                                        <li><a href="/category.html"><i class="icon-th-list icon-white"></i>category</a></li>
                                        <li><a href="/about.html"><i class="icon-user icon-white"></i>About</a></li>
                                        <li class="dropdown">
                                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                        Friend Links <b class="caret"></b>
                                                </a>
                                                <ul class="dropdown-menu">
                                                        <li><a href="http://www.ruanyifeng.com/home.html" target="_blank">阮一峰</a></li>
                                                        <li><a href="http://coolshell.cn/" target="_blank">陈皓haoel</a></li>
                                                        <li><a href="http://www.dbanotes.net/" target="_blank">冯大辉Fenng</a></li>
                                                        <li><a href="http://robbin.iteye.com/" target="_blank">范凯robbin</a></li>
                                                        <li><a href="http://www.eygle.com/" target="_blank">盖国强eygle</a></li>
                                                        <li><a href="http://blog.csdn.net/tianlesoftware" target="_blank">David Dai</a></li>
                                                        <li><a href="http://www.joelonsoftware.com/" target="_blank">Joel Spolsky</a></li>
                                                        <li><a href="http://mindhacks.cn/" target="_blank">刘未鹏MindHacks</a></li>
                                                        <li><a href="http://www.my1510.cn/author.php?roseluqiu" target="_blank">闾丘露薇</a></li>
                                                        <li><a href="http://www.dapenti.com/blog/" target="_blank">铂程斋dapenti</a></li>
                                                </ul>
                                        </li>
                                </ul>
                        </div>
                </div>
        </nav>
</div>


        <div id="content">
                <div class="container">
                        <div class="row">
                                <div>
                                        <div class="entry">
        <div class="entry entry-detail">
                    <div class="entry-header">
                            <h1 class="entry-title">dapenti with vpn</h1>
                            <div class="entry-meta">
                                    <span class="entry-by">
                                            <i class="icon-user"></i> <a href="/">dylan</a> on 2012-12-10 14:35:57
                                    </span>
                            </div>
                    </div>
                <div class="entry-content">
                        <p>当登陆VPN时你已经可以正常访问一些在gfw列表中的网站；但很可能国内的一些网站却不能 打开了，比如<a href="http://dapenti.org">打喷嚏</a>，此时你就需要看下本机的路由设置是否正 确。因为连接VPN后本机的默认路由可能已经更改，此时所有的连接都会经过默认路由出去； 而由于文化、版权等原因，国内很多网站往往是不对境外提供服务的。此时则需要针对这些 网站手动添加路由，这样访问时就不走VPN了；当然这样也可以减少不必要的流量浪费。</p>
<h2>查看打喷嚏ip</h2>
<pre><code>C:\Users\dylanninin@gmail.com&gt;nslookup dapenti.org
服务器:  google-public-dns-a.google.com
Address:  8.8.8.8

非权威应答:
名称:    dapenti.org
Address:  122.226.227.53
</code></pre>
<h2>查看路由命令帮助</h2>
<pre><code>C:\Users\dylanninin@gmail.com&gt;route add

操作网络路由表。

ROUTE [-f] [-p] [-4|-6] command [destination]
              [MASK netmask]  [gateway] [METRIC metric]  [IF interface]

-f           清除所有网关项的路由表。如果与某个
             命令结合使用，在运行该命令前，
             应清除路由表。

-p           与 ADD 命令结合使用时，将路由设置为
             在系统引导期间保持不变。默认情况下，重新启动系统时，
             不保存路由。忽略所有其他命令，
             这始终会影响相应的永久路由。Windows 95
             不支持此选项。

-4           强制使用 IPv4。

-6           强制使用 IPv6。

command      其中之一:
             PRINT     打印路由
             ADD       添加路由
             DELETE    删除路由
             CHANGE    修改现有路由
destination  指定主机。
MASK         指定下一个参数为"网络掩码"值。
netmask      指定此路由项的子网掩码值。
             如果未指定，其默认设置为 255.255.255.255。
gateway      指定网关。
interface    指定路由的接口号码。
METRIC       指定跃点数，例如目标的成本。

用于目标的所有符号名都可以在网络数据库文件 NETWORKS 中进行查找。用于网关的符号名称都可以在主机名称数据库文件 HOSTS 中进行查找。

如果命令为 PRINT 或 DELETE。目标或网关可以为通配符，(通配符指定为星号"*")，否则可能会忽略网关参数。

如果 Dest 包含一个 * 或 ?，则会将其视为 Shell 模式，并且只打印匹配目标路由。"*"匹配任意字符串，而"?"匹配任意一个字符。示例: 157.*.1、157.*、127.*、*224*。

只有在 PRINT 命令中才允许模式匹配。
诊断信息注释:
无效的 MASK 产生错误，即当 (DEST &amp; MASK) != DEST 时。
示例: &gt; route ADD 157.0.0.0 MASK 155.0.0.0 157.55.80.1 IF 1
         路由添加失败: 指定的掩码参数无效。
         (Destination &amp; Mask) != Destination。

示例:

&gt; route PRINT
&gt; route PRINT -4
&gt; route PRINT -6
&gt; route PRINT 157*          .... 只打印那些匹配  157* 的项

&gt; route ADD 157.0.0.0 MASK 255.0.0.0  157.55.80.1 METRIC 3 IF 2
         destination^      ^mask      ^gateway     metric^    ^
                                                     Interface^
  如果未给出 IF，它将尝试查找给定网关的最佳接口。
&gt; route ADD 3ffe::/32 3ffe::1

&gt; route CHANGE 157.0.0.0 MASK 255.0.0.0 157.55.80.5 METRIC 2 IF 2

  CHANGE 只用于修改网关和/或跃点数。

&gt; route DELETE 157.0.0.0
&gt; route DELETE 3ffe::/32
</code></pre>
<h2>指定路由规则</h2>
<p>因本机使用路由器连接，ip为192.168.1.123，子网掩码为255.255.255.0，网关为192.168.1.1； 这里指定访问打喷嚏走路由192.168.1.1；而非默认的VPN网关。</p>
<pre><code>C:\Users\dylanninin@gmail.com&gt;route add 122.226.227.53 mask 255.255.255.255 192.168.1.1

操作完成!
</code></pre>
<p>此时，就可以正常访问<a href="http://dapenti.org">打喷嚏</a>了。</p>
<h2>参考</h2>
<ul>
<li>chnroute <a href="https://github.com/jimmyxu/chnroutes">chnroute</a></li>
</ul> 
                </div>
        </div>
</div>

                                </div>
                        </div>
                </div>
        </div>
        <div id="footer">

        <div class="modal-footer">
                <p class="text-center">
                        Blog of <a href="/">dylan</a>.
                        Follow me on <a href="https://twitter.com/dylanninin" target="_blank">twitter</a>
                        or <a href="http://weibo.com/dylanninin" target="_blank">weibo</a>
                </p>
                <p class="text-center">
                        UI Designed by <a href="http://twitter.github.com/bootstrap" target="_blank">Twitter
                                Bootstrap</a>.
                        Powered by <a href="http://webpy.org" target="_blank">Web.py</a>.
                        Hosted by <a href="http://www.linode.com" target="_blank">Linode</a>.
                        Licensed under <a
                                href="http://creativecommons.org/licenses/by-nc-nd/3.0/" target="_blank">CC BY
                                3.0</a>
                </p>
                <p class="text-center">
                        Copyright &copy <a href="/">CLOUD</a> |
                        <a href="/about.html">About</a>
                </p>

        </div>
        <script src="/static/js/jquery.js"></script>
        <script src="/static/js/jquery-3.1.1.min.js"></script>
    <script src="/static/js/bootstrap.js"></script>
</div>

</body>
</html>
